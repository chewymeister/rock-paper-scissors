<!DOCTYPE html>	
<html>
<head>
  <title>Rock Paper, Scissor, Lizard, Spock</title>

  <link rel="stylesheet" type="text/css" href="./stylesheets/reset.css">
  <link rel="stylesheet" type="text/css" href="./stylesheets/RockPaperScissors.css">

  <script type="text/javascript" src="./lib/RockPaperScissors.js"></script>
  <script type="text/javascript" src="https://ajax.microsoft.com/ajax/jQuery/jquery-1.4.2.min.js"></script>

  <script>

    // $(document).keydown(function(event){ 
    //   console.log(event.which);
    // });

    var player1;
    var player2;
    var player1Pick;
    var player2Pick;

  	$(document).ready(function() {
  	  $("#new_game").click(function(){
  	   	$("#new_game, #the_rules").fadeOut(1000);
  	   	$("#player1_container").fadeTo(1000, 1);
  	  });
  	});

  	$(document).ready(function() {
  	  $("#player1_register").click(function(){
  	   	$("#player1_container").fadeOut(1000);
  	   	$("#player2_container").fadeTo(1000, 1);
  	  });
  	});

  	$(document).ready(function() {
  	  $("#player2_register").click(function(){
  	   	$("#player2_container").fadeOut(1000);
  	   	$("#start").fadeTo(1000, 1);
  	  });
  	});

  	// function formSubmit() {
  	// 	game = new Game(player1, player2);

  	// 	player1.picks(document.getElementById('player1_pick').value);
  	// 	player2.picks(document.getElementById('player2_pick').value);
  	// 	document.getElementById('winner').innerHTML = "and the winner is..." + game.winner().name;
  	// }

  	function playerOneName() {
  		var player1Name = document.getElementById('player1_name').value;
  		player1 = new Player(player1Name);
  		return player1
  	}

  	function playerTwoName() {
  		var player2Name = document.getElementById('player2_name').value;
  		player2 = new Player(player2Name);
  		return player2
  	}

      // if (player1Pick !== undefined) {
      //   document.getElementById('player1_pick').innerHTML = player1.name + " picks " player1Pick;
      // };
          // } else if (player2Pick !== undefined) {
          //   document.getElementById('player2_pick').innerHTML = player2.name + " picks " player2Pick;
          // };

    $(document).ready (function() {
      document.getElementById('start').onclick = function(){ 
        $(document).keydown(function(event){ 
          // w
          if (event.which == 87) {
             player1Pick = "rock";
            return player1Pick;
          }
          // e
          if (event.which == 69) {
            player1Pick = "paper";
            return player1Pick;
          }
          // a
          if (event.which == 65) {
            player1Pick = "scissors";
            return player1Pick;
          }
          // s
          if (event.which == 83) {
            player1Pick = "lizard";
            return player1Pick;
          }
          // d
          if (event.which == 68) {
            player1Pick = "spock";
            return player1Pick;
          }
          // i 219
          if (event.which == 73) {
            player2Pick = "rock";
            return player2Pick;
          }
          // o 221
          if (event.which == 79) {
            player2Pick = "paper";
            return player2Pick;
          }
          // j 186
          if (event.which == 74) {
            player2Pick = "scissors";
            return player2Pick;
          }
          // k 222
          if (event.which == 75) {
            player2Pick = "lizard";
            return player2Pick;
          }
          // l 220
          if (event.which == 76) {
            player2Pick = "spock";
            return player2Pick;
          };
          // 16
          if (event.which == 81) {
            console.log(player1Pick);
          };

          if (event.which == 13) {
            console.log(player2Pick);
          };
        });

        $(document).keypress(function() {
          if (player1Pick !== undefined) {
            document.getElementById('player1_pick').innerHTML = player1.name + " picks " + player1Pick;
          }
        });

        $(document).keypress(function() {
          if (player2Pick !== undefined) {
            document.getElementById('player2_pick').innerHTML = player2.name + " picks " + player2Pick;
          }
        });

        $(document).keypress(function() {
          if (player1Pick !== undefined && player2Pick !== undefined) {
            $(document).ready(function() {
              game = new Game(player1, player2);

              player1.picks(player1Pick);
              player2.picks(player2Pick);
              var game_winner = game.winner();
              // console.log(game_winner[0].name);
              document.getElementById('message').innerHTML = game_winner[1];
              document.getElementById('winner').innerHTML = game_winner[0].name + " wins!!!";
            });
          };
        });
      };
    });

  </script>
</head>

<body background="./images/hands.jpg">
	<div id="container">
		<h1>Rock Paper, Scissor Lizard, Spock</h1>
		<ul>
			<li>
				<div class="button" id='new_game'>
					New Game
			</li>
			<li>
				<div class="button" id="the_rules">
					The Rules
			</li>

		<div id="player1_container">
			Player1:
			<input type="text" id="player1_name" >
			<input type="submit" value="submit" id="player1_register" onclick="playerOneName();"/>

		</div>

		<div id="player2_container">
			Player2:
			<input type="text" id="player2_name">
			<input type="submit" value="submit" id="player2_register" onclick="playerTwoName();"/>
		</div>
<!-- 
		<div id="picks">
			Player 1 pick <input type="text" id="player1_pick">
			Player 2 pick <input type="text" id="player2_pick">
			<input type="submit" value="submit" onclick="formSubmit();"/>
		</div> -->

    <div id="start">
      <input type="submit" value="Start" id="start"/>
    </div>

    <div id="pick"></div>

		<h3 id="player1-name"></h3>
		<h3 id="player2-name"></h3>

    <h2 id="player1_pick"></h2>
    <h2 id="player2_pick"></h2>

    <h2 id="message"></h2>
		<h3 id="winner"></h3>
	</div>
</body>
</html>